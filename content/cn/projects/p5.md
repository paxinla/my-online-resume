###  【2016.08 - 2019.01】  产品联机数据库管理

+ PostgreSQL | 阿里云 | 数据库集群

```
该项目为公司核心产品“X志愿”的联机数据库，部署在阿里云上，可靠地支撑了产品的数据管理需求。
``` 

我在这个项目中负责的工作有：

1. 负责开发、测试、生产等所有环境的数据库系统架构的设计、实施、日常操作、配置、监控及故障处理。负责监控备份情况、恢复策略方案的制定与数据备份恢复计划的制定、执行。
2. 负责数据库性能监控和调优，监控并及时发现问题，优化后台对数据库的访问方式、性能较差的 SQL 。
3. 负责项目中的数据库逻辑结构设计。分析业务需求，设计审核并创建维护数据库对象。
4. 根据业务需求批量生成/更新产品所需的核心数据集，维护它们的质量。
5. 对数据库相关的故障和性能问题及时定位问题并解决问题。


“X志愿”是公司的核心数据产品之一，它依托全国大专院校历年的招生录取数据及 AI 算法，根据高考考生的自身情况，预测目标学校专业的当年录取情况，给考生个性化的填报志愿的智能建议。公司为百度 App 中全国唯三的志愿填报服务提供商之一。

公司采用的云服务商是阿里云，生产环境都部署在阿里云上。我全权负责该产品的数据库架构的设计与实施。

公司在考察了阿里云 RDS 的性能与稳定性后，综合考虑了价格、“X志愿”产品的数据访问特征、整个产品对数据库的性能及稳定的要求等因素，选择了在 ECS 上自建基于 PostgreSQL 的生产数据库集群。我设计并落地了数据库集群架构方案。集群全年无故障稳定运行。与之前该产品上一代基于 MongoDB 的数据库方案相比，在读写性能、开发灵活性、功能的丰富程度、批量更新数据的效率及服务稳定性上都有了明显地改善。我为该集群实现了备份策略实施自动化，保障了产品数据的安全。业务系统对数据库的访问及业务基础数据的增长在每年高考前后一段时间内，都会剧增；而其他时间段的负载则较为平稳。如果为以能处理这类峰值访问为标准来投入资源随时待命无疑是巨大的浪费。因此，我设计了集群在业务高峰时期前后能平滑地扩容、缩容的方案。集群在业务高峰时，平稳支撑过 TPS 约 8k ；在高峰时段外，则以经济的方式稳定支持业务。

